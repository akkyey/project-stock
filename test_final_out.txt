============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /mnt/d/dev2/project-stock2/venv/bin/python3
cachedir: .pytest_cache
rootdir: /mnt/d/dev2/project-stock2
configfile: pytest.ini
plugins: anyio-4.12.0, cov-7.0.0
collecting ... collected 13 items

tests/test_commands.py::TestExtractCommand::test_execute_no_candidates PASSED
tests/test_commands.py::TestExtractCommand::test_execute_with_candidates Extracting Tasks:   0%|          | 0/1 [00:00<?, ?it/s]Extracting Tasks: 100%|██████████| 1/1 [00:00<00:00, 2600.31it/s]
PASSED
tests/test_commands.py::TestAnalyzeCommand::test_execute_no_candidates PASSED
tests/test_commands.py::TestAnalyzeCommand::test_execute_processes_candidates AI Analysis (Cncr=2):   0%|          | 0/1 [00:00<?, ?it/s]AI Analysis (Cncr=2): 100%|██████████| 1/1 [00:00<00:00, 25.59it/s]
PASSED
tests/test_commands.py::TestIngestCommand::test_execute_ingest_valid_json PASSED
tests/test_commands.py::TestIngestCommand::test_execute_no_files PASSED
tests/test_commands.py::TestIngestCommand::test_export_to_csv_chunking PASSED
tests/test_commands.py::TestIngestCommand::test_export_to_csv_no_results PASSED
tests/test_commands.py::TestIngestCommand::test_export_to_csv_with_data PASSED
tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_sentinel_alert_generation DEBUG: Initial Stock and AnalysisResult created.
PASSED
tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_orchestrator_daily_flow DEBUG: Reporter Output Dir: tests/data/output
AI Analysis (Cncr=1):   0%|          | 0/1 [00:00<?, ?it/s]AI Analysis (Cncr=1): 100%|██████████| 1/1 [00:02<00:00,  2.07s/it]AI Analysis (Cncr=1): 100%|██████████| 1/1 [00:02<00:00,  2.07s/it]
DEBUG: Saving Summary to tests/data/output/daily_report_20260105_1659.csv
PASSED
tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_orchestrator_weekly_flow DEBUG: Reporter Output Dir: data/output
DEBUG: Saving Summary to data/output/weekly_report_20260105_1659.csv
PASSED
tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_orchestrator_balanced_refresh DEBUG: Reporter Output Dir: data/output
PASSED

=============================== warnings summary ===============================
tests/test_commands.py::TestAnalyzeCommand::test_execute_processes_candidates
  /mnt/d/dev2/project-stock2/stock-analyzer4/src/domain/models.py:40: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class StockAnalysisData(BaseModel):

tests/test_commands.py::TestAnalyzeCommand::test_execute_processes_candidates
tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_orchestrator_daily_flow
  /mnt/d/dev2/project-stock2/stock-analyzer4/src/commands/analyze.py:396: DeprecationWarning: ValidationEngine.is_abnormal() is deprecated. Use StockAnalysisData.validation_flags.skip_reasons instead.
    is_abnormal, reasons = val_engine.is_abnormal(row_dict)

tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_orchestrator_daily_flow
tests/test_sentinel_orchestrator_integration.py::TestSentinelOrchestratorIntegration::test_orchestrator_daily_flow
  /mnt/d/dev2/project-stock2/stock-analyzer4/src/result_writer.py:84: FutureWarning: Downcasting object dtype arrays on .fillna, .ffill, .bfill is deprecated and will change in a future version. Call result.infer_objects(copy=False) instead. To opt-in to the future behavior, set `pd.set_option('future.no_silent_downcasting', True)`
    df_out[col] = df_out[col].fillna(0).astype(int)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================= 13 passed, 5 warnings in 17.40s ========================
