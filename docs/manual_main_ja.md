# ユーザーマニュアル: 自動分析システム (v12.0)

## 概要
`stock_analyzer.py` は、Stock Analyzer v12.0 のエントリーポイントの一つです。現在は `EquityAuditor` のコアロジックを呼び出す薄いラッパーとして機能しており、後方互換性を維持しながら最新の ScoringEngine と AIAgent を活用した分析を提供します。

## 基本的な使い方

### 実行コマンド
```bash
python stock_analyzer.py [オプション]
```

### オプション一覧 (主要なもの)

| オプション | デフォルト       | 説明                                             |
| :--------- | :--------------- | :----------------------------------------------- |
| `--limit`  | `None`           | 分析する銘柄数の上限。                           |
| `--style`  | `value_balanced` | 分析時のスコアリングスタイルを指定します。       |
| `--repair` | `False`          | 失敗したレコードのみを再試行するリカバリモード。 |

## 動作の仕組み

### エンジン統合
内部的には `ScoringEngine` による高速な一括スコアリングと、`AIAgent` モジュール群による定性的分析が実行されます。
分析結果はデータベースの `analysis_results` テーブルに保存され、同時に `data/output/` にレポートが出力されます。

### スマートキャッシュ
一度分析された銘柄は、データのハッシュ値ベースでキャッシュが効き、API コストを最小化します。

## 注意事項
v12.0 より、高度なワークフロー（抽出・登録の分離など）が必要な場合は、`equity_auditor.py` の使用を推奨しています。

---
*最終更新: 2026-01-01 (v12.0)*
