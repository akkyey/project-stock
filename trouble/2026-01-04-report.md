# 2026-01-04 不具合レポート

## 検出された不具合一覧

### No.1: ConfigValidation Error
*   **検出時刻:** 17:30
*   **対象:** `src/config_loader.py`, `tests/test_config_loader.py`
*   **概要:** `ConfigLoader` が設定ファイルなしで初期化された際、`ConfigModel` のバリデーションで必須フィールド不足 (`Field required`) により `ValueError` が発生する。
*   **原因:** Pydantic v2 モデルの厳格化に対し、デフォルト値生成ロジック (`model_construct`) が空の設定辞書を受け取った際のフォールバック処理が不完全だったため。
*   **影響:** 新規環境やテスト環境など設定ファイルがない状況でアプリケーションが起動できない。
*   **ステータス:** 修正完了 (Fix)

### No.2: Assertion Error (Hard Cutting)
*   **検出時刻:** 17:45
*   **対象:** `tests/test_hard_cutting.py`
*   **概要:** テストが `AssertionError: 'Insolvent' not found` で失敗する。
*   **原因:** ドメインモデル (`StockAnalysisData`) の導入により、エラーコードの体系が変更 (`Insolvent` → `equity_ratio_negative`) されたが、テストコードの期待値が更新されていなかった。
*   **影響:** CI/CD パイプラインでのテスト失敗。実動作への悪影響はない（テスト自体の陳腐化）。
*   **ステータス:** 修正完了 (Fix)

### No.3: Validation Message Mismatch (Tiered Validation)
*   **検出時刻:** 18:00
*   **対象:** `tests/test_validation_tiered.py`
*   **概要:** テストが `AssertionError` で失敗する（`Missing Reference: Sales Growth` が見つからない等）。
*   **原因:** 実装側のエラーメッセージが Snake Case (`sales_growth`) に統一されたのに対し、テストコードが Title Case (`Sales Growth`) を期待していた。また、一部テストデータが Pydantic 型制約（必須項目欠落）に違反していた。
*   **影響:** CI/CD パイプラインでのテスト失敗。
*   **ステータス:** 修正完了 (Fix)
